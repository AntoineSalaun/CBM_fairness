LF-CBM training:


CIFAR10:
python label_free_cbm/src/train_cbm.py --concept_set data/concept_sets/cifar10_filtered.txt

CIFAR100:
python label_free_cbm/src/train_cbm.py --dataset cifar100 --concept_set data/concept_sets/cifar100_filtered.txt

CUB200:
python label_free_cbm/src/train_cbm.py --dataset cub --backbone resnet18_cub --concept_set data/concept_sets/cub_filtered.txt --feature_layer features.final_pool --clip_cutoff 0.26 --n_iters 5000 --lam 0.0002

doctor_nurse_full
python label_free_cbm/src/train_cbm.py --dataset doctor_nurse_full --backbone alexnet_doctor_nurse --concept_set data/concept_sets/doctor_nurse_filtered_new.txt --feature_layer avgpool --n_iters 1000 --print

doctor_nurse_gender_biased
python label_free_cbm/src/train_cbm.py --dataset doctor_nurse_gender_biased --backbone alexnet_doctor_nurse --concept_set data/concept_sets/doctor_nurse_filtered_new.txt --feature_layer avgpool --n_iters 1000 --print --name_suffix gender_biased

Places365:
python label_free_cbm/src/train_cbm.py --dataset places365 --backbone resnet50 --concept_set data/concept_sets/places365_filtered.txt --clip_cutoff 0.28 --n_iters 80 --lam 0.0003

ImageNet:
python label_free_cbm/src/train_cbm.py --dataset imagenet --backbone resnet50 --concept_set data/concept_sets/imagenet_filtered.txt --clip_cutoff 0.28 --n_iters 80 --lam 0.0001



Training sparse standard models:


CIFAR10:
python train_standard.py

CIFAR100:
python train_standard.py --dataset cifar100 --lam 0.003

CUB200:
python train_standard.py --dataset cub --backbone resnet18_cub --feature_layer features.final_pool --lam 0.00002 --n_iters 5000

Places365:
python train_standard.py --dataset places365 --backbone resnet50 --lam 0.0007 --n_iters 80

ImageNet:
python train_standard.py --dataset imagenet --backbone resnet50 --lam 0.0001 --n_iters 80


Train one alexnet model:
python fairness_cv_project/datasets/doctor_nurse/training.py  --dataset biased_dataset_bias_25_train_75/biased 

Evalute one alexnet model: 
python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_0_train_75-balanced.pt" --path_dataset 'biased_dataset_bias_0_train_75'

Evaluate all alexnet model:
python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_0_train_75-balanced.pt" --path_dataset 'biased_dataset_bias_0_train_75' ;python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_0_train_75-biased.pt" --path_dataset 'biased_dataset_bias_0_train_75' ; python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_25_train_75-balanced.pt" --path_dataset 'biased_dataset_bias_25_train_75' ;python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_25_train_75-biased.pt" --path_dataset 'biased_dataset_bias_25_train_75' ;python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_33_train_75-balanced.pt" --path_dataset 'biased_dataset_bias_33_train_75' ;python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_33_train_75-biased.pt" --path_dataset 'biased_dataset_bias_33_train_75' ;python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_50_train_75-balanced.pt" --path_dataset 'biased_dataset_bias_50_train_75' ;python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_50_train_75-biased.pt" --path_dataset 'biased_dataset_bias_50_train_75' ;python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_66_train_75-balanced.pt" --path_dataset 'biased_dataset_bias_66_train_75' ;python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_66_train_75-biased.pt" --path_dataset 'biased_dataset_bias_66_train_75' ;python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_75_train_75-balanced.pt" --path_dataset 'biased_dataset_bias_75_train_75' ;python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_75_train_75-biased.pt" --path_dataset 'biased_dataset_bias_75_train_75' ;python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_100_train_75-balanced.pt" --path_dataset 'biased_dataset_bias_100_train_75' ;python fairness_cv_project/datasets/doctor_nurse/result_doctor_nurse.py --path_alexnet_model "alexnet_doctor_nursebiased_dataset_bias_100_train_75-biased.pt" --path_dataset 'biased_dataset_bias_100_train_75' 


Phoning eating:

Note: When doing a lot of experiments it might be better to run on supercloud with LLGrid or a sbatch iterating through the arguments

phoning_eating with original concept set:

Balanced: 
python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset phoning_eating_balanced --backbone alexnet_phoning_eating --concept_set data/concept_sets/phoning_eating_filtered_new.txt --feature_layer avgpool --n_iters 1000  --interpretability_cutoff 0.1 --save_dir saved_models/imSitu/phoning_eating --print

Imbalanced 1: 
python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset phoning_eating_imbalanced_1 --backbone alexnet_phoning_eating --concept_set data/concept_sets/phoning_eating_filtered_new.txt --feature_layer avgpool --n_iters 1000  --interpretability_cutoff 0.1 --save_dir saved_models/imSitu/phoning_eating --print

Imbalanced 2: 
python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset phoning_eating_imbalanced_2 --backbone alexnet_phoning_eating --concept_set data/concept_sets/phoning_eating_filtered_new.txt --feature_layer avgpool --n_iters 1000  --interpretability_cutoff 0.1 --save_dir saved_models/imSitu/phoning_eating --print

phoning_eating with cheating concept sets: 

Balanced: 
python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset phoning_eating_balanced --backbone alexnet_phoning_eating --concept_set data/concept_sets/phoning_eating_augmented_filtered.txt --feature_layer avgpool --n_iters 1000  --interpretability_cutoff 0.1 --save_dir saved_models/imSitu/phoning_eating --print

Imbalanced 1: 
python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset phoning_eating_imbalanced_1 --backbone alexnet_phoning_eating --concept_set data/concept_sets/phoning_eating_augmented_filtered.txt --feature_layer avgpool --n_iters 1000  --interpretability_cutoff 0.1 --save_dir saved_models/imSitu/phoning_eating --print

Imbalanced 2:
python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset phoning_eating_imbalanced_2 --backbone alexnet_phoning_eating --concept_set data/concept_sets/phoning_eating_augmented_filtered.txt --feature_layer avgpool --n_iters 1000  --interpretability_cutoff 0.1 --save_dir saved_models/imSitu/phoning_eating --print


phoning_eating with original concept set and gender:

Balanced: python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset phoning_eating_balanced --backbone alexnet_phoning_eating --concept_set data/concept_sets/phoning_eating_filtered_gender.txt --feature_layer avgpool --n_iters 1000  --interpretability_cutoff 0.1 --save_dir saved_models/imSitu/phoning_eating --protected_concepts "a male" "a female" --print

Imbalanced 1: python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset phoning_eating_imbalanced_1 --backbone alexnet_phoning_eating --concept_set data/concept_sets/phoning_eating_filtered_gender.txt --feature_layer avgpool --n_iters 1000  --interpretability_cutoff 0.1 --save_dir saved_models/imSitu/phoning_eating --protected_concepts "a male" "a female" --print

Imbalanced 2: python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset phoning_eating_imbalanced_2 --backbone alexnet_phoning_eating --concept_set data/concept_sets/phoning_eating_filtered_gender.txt --feature_layer avgpool --n_iters 1000  --interpretability_cutoff 0.1 --save_dir saved_models/imSitu/phoning_eating --protected_concepts "a male" "a female" --print

phoning_eating with cheating concept sets and gender: 

Balanced: 
python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset phoning_eating_balanced --backbone alexnet_phoning_eating --concept_set data/concept_sets/phoning_eating_augmented_filtered_gender.txt --feature_layer avgpool --n_iters 1000  --interpretability_cutoff 0.1 --save_dir saved_models/imSitu/phoning_eating --protected_concepts "a male" "a female" --print

Imbalanced 1: 
python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset phoning_eating_imbalanced_1 --backbone alexnet_phoning_eating --concept_set data/concept_sets/phoning_eating_augmented_filtered_gender.txt --feature_layer avgpool --n_iters 1000  --interpretability_cutoff 0.1 --save_dir saved_models/imSitu/phoning_eating --protected_concepts "a male" "a female" --print

Imbalanced 2:
python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset phoning_eating_imbalanced_2 --backbone alexnet_phoning_eating --concept_set data/concept_sets/phoning_eating_augmented_filtered_gender.txt --feature_layer avgpool --n_iters 1000  --interpretability_cutoff 0.1 --save_dir saved_models/imSitu/phoning_eating --protected_concepts "a male" "a female" --print

Imsitu 30 classes:

    Train
        
        Baseline:

            Balanced:
            python fairness_cv_project/datasets/imSitu/model_training/train_resnet.py

            Imbalanced 1:
            python fairness_cv_project/datasets/imSitu/model_training/train_resnet.py --dataset 30_verbs/train_val_split/train_imbalanced_1 --save_folder 30_verbs/baseline/imbalanced_1/

            Imbalanced 2:
            python fairness_cv_project/datasets/imSitu/model_training/train_resnet.py --dataset 30_verbs/train_val_split/train_imbalanced_2 --save_folder 30_verbs/baseline/imbalanced_2/

            full dataset
            python fairness_cv_project/datasets/imSitu/model_training/train_resnet.py --dataset 30_verbs_full/train_val --save_folder 30_verbs_full/baseline/
        
        CBM full dataset:

            Sparse
            python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_full --backbone resnet50 --concept_set data/concept_sets/imSitu_30_filtered.txt --save_dir saved_models/imSitu/30_verbs_full/CBM/sparse_no_gender --interpretability_cutoff 0.3 --n_iters 80 --lam 0.01 --print

            Dense
            python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_full --backbone resnet50 --concept_set data/concept_sets/imSitu_30_filtered.txt --save_dir saved_models/imSitu/30_verbs_full/CBM/dense_no_gender --interpretability_cutoff 0.3 --n_iters 80 --print
        
            With gender sparse:
            python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_full --backbone resnet50 --concept_set data/concept_sets/imSitu_30_gender.txt --save_dir saved_models/imSitu/30_verbs_full/CBM/sparse_gender --interpretability_cutoff 0.3 --n_iters 80 --lam 0.01 --print --protected_concepts "a male" "a female"

            With gender dense
            python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_full --backbone resnet50 --concept_set data/concept_sets/imSitu_30_gender.txt --save_dir saved_models/imSitu/30_verbs_full/CBM/dense_gender --interpretability_cutoff 0.3 --n_iters 80 --print --protected_concepts "a male" "a female"

        CBM no gender:

            sparse:

                Balanced:
                python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_balanced --backbone resnet50 --concept_set data/concept_sets/imSitu_30_filtered.txt --save_dir saved_models/imSitu/30_verbs/CBM/sparse/balanced --interpretability_cutoff 0.3 --n_iters 80 --lam 0.01 --print
            
                Imbalanced 1:
                python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_imbalanced_1 --backbone resnet50 --concept_set data/concept_sets/imSitu_30_filtered.txt --save_dir saved_models/imSitu/30_verbs/CBM/sparse/imbalanced_1 --interpretability_cutoff 0.3 --n_iters 80 --lam 0.01 --print

                Imbalanced 2:
                python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_imbalanced_2 --backbone resnet50 --concept_set data/concept_sets/imSitu_30_filtered.txt --save_dir saved_models/imSitu/30_verbs/CBM/sparse/imbalanced_2 --interpretability_cutoff 0.3 --n_iters 80 --lam 0.01 --print

            Dense:

                Balanced:
                python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_balanced --backbone resnet50 --concept_set data/concept_sets/imSitu_30_filtered.txt --save_dir saved_models/imSitu/30_verbs/CBM/dense/balanced --interpretability_cutoff 0.3 --n_iters 80 --print
            
                Imbalanced 1:
                python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_imbalanced_1 --backbone resnet50 --concept_set data/concept_sets/imSitu_30_filtered.txt --save_dir saved_models/imSitu/30_verbs/CBM/dense/imbalanced_1 --interpretability_cutoff 0.3 --n_iters 80 --print

                Imbalanced 2:
                python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_imbalanced_2 --backbone resnet50 --concept_set data/concept_sets/imSitu_30_filtered.txt --save_dir saved_models/imSitu/30_verbs/CBM/dense/imbalanced_2 --interpretability_cutoff 0.3 --n_iters 80 --print


        CBM With gender 

            Sparse:

                Balanced:
                python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_balanced --backbone resnet50 --interpretability_cutoff 0.3 --n_iters 80 --lam 0.01 --print --protected_concepts "a male" "a female"  --concept_set data/concept_sets/imSitu_30_gender.txt --save_dir saved_models/imSitu/30_verbs/CBM/gender/sparse_balanced

                Imbalanced 1:
                python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_imbalanced_1 --backbone resnet50 --interpretability_cutoff 0.3 --n_iters 80 --lam 0.01 --print --protected_concepts "a male" "a female"  --concept_set data/concept_sets/imSitu_30_gender.txt --save_dir saved_models/imSitu/30_verbs/CBM/gender/sparse_imbalanced_1


                Imbalanced 2:
                python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_imbalanced_2 --backbone resnet50 --interpretability_cutoff 0.3 --n_iters 80 --lam 0.01 --print --protected_concepts "a male" "a female"  --concept_set data/concept_sets/imSitu_30_gender.txt --save_dir saved_models/imSitu/30_verbs/CBM/gender/sparse_imbalanced_2


            Dense:

                Balanced:
                python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_balanced --backbone resnet50  --interpretability_cutoff 0.3 --n_iters 80 --print --protected_concepts "a male" "a female"  --concept_set data/concept_sets/imSitu_30_gender.txt --save_dir saved_models/imSitu/30_verbs/CBM/gender/dense_balanced 
            
                Imbalanced 1:
                python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_imbalanced_1 --backbone resnet50 --interpretability_cutoff 0.3 --n_iters 80 --print --protected_concepts "a male" "a female"  --concept_set data/concept_sets/imSitu_30_gender.txt --save_dir saved_models/imSitu/30_verbs/CBM/gender/dense_imbalanced_1

                Imbalanced 2:
                python fairness_cv_project/methods/label_free_cbm/src/train_cbm.py --dataset imSitu_30_imbalanced_2 --backbone resnet50 --interpretability_cutoff 0.3 --n_iters 80 --print --protected_concepts "a male" "a female"  --concept_set data/concept_sets/imSitu_30_gender.txt --save_dir saved_models/imSitu/30_verbs/CBM/gender/dense_imbalanced_2
    Test

        Baseline
        python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py 

        Imbalanced 1:
        python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --path_model 'saved_models/imSitu/30_verbs/baseline/imbalanced_1/model.pt' --path_result 'results/imSitu/30_verbs/baseline/imbalanced_1'

        Imbalanced 2:
        python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --path_model 'saved_models/imSitu/30_verbs/baseline/imbalanced_2/model.pt' --path_result 'results/imSitu/30_verbs/baseline/imbalanced_2'

        full_dataset
        python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --path_model saved_models/imSitu/30_verbs_full/baseline/model.pt --path_result results/imSitu/30_verbs_full/baseline --path_test_dataset data/datasets/imSitu/data/30_verbs_full/test_with_gender

        CBM

            no gender
                sparse

                    Balanced
                    python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs/CBM/no_gender/sparse_balanced/imSitu_30_balanced_imSitu_30_filtered --path_result results/imSitu/30_verbs/CBM/no_gender/balanced_sparse 

                    Imbalanced 1
                    python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs/CBM/no_gender/sparse_imbalanced_1/imSitu_30_imbalanced_1_imSitu_30_filtered  --path_result results/imSitu/30_verbs/CBM/no_gender/imbalanced_1_sparse

                    Imbalanced 2
                    python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs/CBM/no_gender/sparse_imbalanced_2/imSitu_30_imbalanced_2_imSitu_30_filtered --path_result results/imSitu/30_verbs/CBM/no_gender/imbalanced_2_sparse

                dense
                    Balanced
                    python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs/CBM/no_gender/dense_balanced/imSitu_30_balanced_imSitu_30_filtered --path_result results/imSitu/30_verbs/CBM/no_gender/balanced_dense

                    Imbalanced 1
                    python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs/CBM/no_gender/dense_imbalanced_1/imSitu_30_imbalanced_1_imSitu_30_filtered --path_result results/imSitu/30_verbs/CBM/no_gender/imbalanced_1_dense

                    Imbalanced 2
                    python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs/CBM/no_gender/dense_imbalanced_2/imSitu_30_imbalanced_2_imSitu_30_filtered --path_result results/imSitu/30_verbs/CBM/no_gender/imbalanced_2_dense

            with gender:

                sparse

                    Balanced
                    python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs/CBM/gender/sparse_balanced/imSitu_30_balanced_imSitu_30_gender --path_result results/imSitu/30_verbs/CBM/gender/balanced_sparse

                    Imbalanced 1
                    python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs/CBM/gender/sparse_imbalanced_1/imSitu_30_imbalanced_1_imSitu_30_gender --path_result results/imSitu/30_verbs/CBM/gender/imbalanced_1_sparse

                    Imbalanced 2
                    python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs/CBM/gender/sparse_imbalanced_2/imSitu_30_imbalanced_2_imSitu_30_gender --path_result results/imSitu/30_verbs/CBM/gender/imbalanced_2_sparse

                dense
                    Balanced
                    python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs/CBM/gender/dense_balanced/imSitu_30_balanced_imSitu_30_gender --path_result results/imSitu/30_verbs/CBM/gender/balanced_dense

                    Imbalanced 1
                    python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs/CBM/gender/dense_imbalanced_1/imSitu_30_imbalanced_1_imSitu_30_gender --path_result results/imSitu/30_verbs/CBM/gender/imbalanced_1_dense

                    Imbalanced 2
                    python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs/CBM/gender/dense_imbalanced_2/imSitu_30_imbalanced_2_imSitu_30_gender --path_result results/imSitu/30_verbs/CBM/gender/imbalanced_2_dense
        
        Full test

            Sparse no gender
            python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs_full/CBM/sparse_no_gender/imSitu_30_full_imSitu_30_filtered  --path_test_dataset data/datasets/imSitu/data/30_verbs_full/test_with_gender --path_result results/imSitu/30_verbs_full/CBM/sparse_no_gender 

            Dense no gender
            python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs_full/CBM/dense_no_gender/imSitu_30_full_imSitu_30_filtered --path_result results/imSitu/30_verbs_full/CBM/dense_no_gender --path_test_dataset data/datasets/imSitu/data/30_verbs_full/test_with_gender 

            Sparse Gender
            python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs_full/CBM/sparse_gender/imSitu_30_full_imSitu_30_gender --path_result results/imSitu/30_verbs_full/CBM/sparse_gender --path_test_dataset data/datasets/imSitu/data/30_verbs_full/test_with_gender 


            Dense gender
            python fairness_cv_project/datasets/imSitu/model_training/test_resnet.py --is_cbm --path_model saved_models/imSitu/30_verbs_full/CBM/dense_gender/imSitu_30_full_imSitu_30_gender --path_result results/imSitu/30_verbs_full/CBM/dense_gender --path_test_dataset data/datasets/imSitu/data/30_verbs_full/test_with_gender 



    Explainability results for CBM

        Balanced no Gender dense 
        python fairness_cv_project/methods/label_free_cbm/src/explainability.py --load_dir saved_models/imSitu/30_verbs/CBM/no_gender/dense_balanced/imSitu_30_balanced_imSitu_30_filtered --file_path results/imSitu/30_verbs/weights/dense_balanced_no_gender.xlsx

        Balanced Gender Sparse
        python fairness_cv_project/methods/label_free_cbm/src/explainability.py --load_dir saved_models/imSitu/30_verbs/CBM/gender/sparse_balanced/imSitu_30_balanced_imSitu_30_gender --file_path results/imSitu/30_verbs/weights/sparse_balanced_gender.xlsx 

        Sparse Gender Imbalanced 1 
        python fairness_cv_project/methods/label_free_cbm/src/explainability.py --load_dir saved_models/imSitu/30_verbs/CBM/gender/sparse_imbalanced_1/imSitu_30_imbalanced_1_imSitu_30_gender --file_path results/imSitu/30_verbs/weights/sparse_imbalanced_1_gender.xlsx 


        Sparse Gender Imbalanced 2 
        python fairness_cv_project/methods/label_free_cbm/src/explainability.py --load_dir saved_models/imSitu/30_verbs/CBM/gender/sparse_imbalanced_2/imSitu_30_imbalanced_2_imSitu_30_gender --file_path results/imSitu/30_verbs/weights/sparse_imbalanced_2_gender.xlsx